---
title: èƒŒåŒ…ä¹è®²ï¼ˆä¹ï¼‰ èƒŒåŒ…é—®é¢˜æ±‚å…·ä½“æ–¹æ¡ˆ
slug: knapsack-problem-09
tags: [èƒŒåŒ…ä¹è®², ç®—æ³•, åŠ¨æ€è§„åˆ’]
categories: ç®—æ³•
mathjax: true
date: 2020-08-03T15:05:36+08:00
lastmod: 2020-08-03T15:05:36+08:00
---

## â“ é¢˜ç›®

> æœ‰ $N$ ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ $V$ çš„èƒŒåŒ…ã€‚æ¯ä»¶ç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚
> ç¬¬ $i$ ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ $v_i$ï¼Œä»·å€¼æ˜¯ $w_i$ã€‚
> æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚
> è¾“å‡º å­—å…¸åºæœ€å°çš„æ–¹æ¡ˆã€‚è¿™é‡Œçš„å­—å…¸åºæ˜¯æŒ‡ï¼šæ‰€é€‰ç‰©å“çš„ç¼–å·æ‰€æ„æˆçš„åºåˆ—ã€‚ç‰©å“çš„ç¼–å·èŒƒå›´æ˜¯ $1â€¦N$ã€‚

<!--more-->

- **è¾“å…¥æ ¼å¼**

> ç¬¬ä¸€è¡Œä¸¤ä¸ªæ•´æ•°ï¼Œ$N$ï¼Œ$V$ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“æ•°é‡å’ŒèƒŒåŒ…å®¹ç§¯ã€‚
> æ¥ä¸‹æ¥æœ‰ $N$ è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° $v_i,w_i$ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ $i$ ä»¶ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ã€‚

- **è¾“å‡ºæ ¼å¼**

> è¾“å‡ºä¸€è¡Œï¼ŒåŒ…å«è‹¥å¹²ä¸ªç”¨ç©ºæ ¼éš”å¼€çš„æ•´æ•°ï¼Œè¡¨ç¤ºæœ€ä¼˜è§£ä¸­æ‰€é€‰ç‰©å“çš„ç¼–å·åºåˆ—ï¼Œä¸”è¯¥ç¼–å·åºåˆ—çš„å­—å…¸åºæœ€å°ã€‚
> ç‰©å“ç¼–å·èŒƒå›´æ˜¯ $1â€¦N$ã€‚

- **æ•°æ®èŒƒå›´**

> $0 < N,V\leq 1000$ > $0 < v_i,w_i\leq 1000$

## âœ… è§£å†³æ–¹æ¡ˆ

### æ€è·¯

&emsp;&emsp;æ±‚å…·ä½“æ–¹æ¡ˆä¹Ÿå°±æ˜¯ç¡®å®šæ¯ä»¶ç‰©å“é€‰è¿˜æ˜¯ä¸é€‰ï¼Œè¿™ä¸ªé—®é¢˜æ˜¯æ²¡æœ‰åŠæ³•åœ¨è½¬ç§»è¿‡ç¨‹ä¸­ç¡®å®šç­”æ¡ˆçš„ï¼Œå› ä¸ºæ¯å¤šè€ƒè™‘ä¸€ä¸ªæ–°çš„ç‰©å“ï¼Œä¹‹å‰ç‰©å“é€‰è¿˜æ˜¯ä¸é€‰å°±æœ‰å¯èƒ½å‘ç”Ÿå˜åŒ–ï¼Œåªæœ‰å½“æ‰€æœ‰çŠ¶æ€è½¬ç§»å®Œæ¯•åï¼Œé€šè¿‡å€’æ¨çš„æ–¹å¼å»ç¡®å®šæ–¹æ¡ˆã€‚

&emsp;&emsp;è€Œé¢˜ç›®è¦æ±‚è¾“å‡ºå­—å…¸åºæœ€å°çš„æ–¹æ¡ˆï¼Œå› æ­¤å€’æ¨æ—¶éœ€è¦ä»ç¬¬ä¸€ä»¶ç‰©å“å¼€å§‹ï¼Œæ‰€ä»¥çŠ¶æ€è½¬ç§»æ—¶ä»æœ€åä¸€ä»¶ç‰©å“å¼€å§‹å€’ç€è½¬ç§»å³å¯ã€‚

&emsp;&emsp;å€’æ¨çš„è¿‡ç¨‹å…¶å®å°±æ˜¯åˆ¤æ–­æœ€ç»ˆç­”æ¡ˆä¸å½“å‰ç‰©å“çš„ä½“ç§¯ä»·å€¼ä»¥åŠç›¸åº”ä¸­é—´çŠ¶æ€ä¹‹é—´çš„å…³ç³»ã€‚

### ä»£ç 

```c++
#include <iostream>
#include <algorithm>
#include <cstring>
using namespace std;

int main() {
    int N, V;
    cin >> N >> V;
    // ç”±äºå€’æ¨éœ€è¦ç”¨åˆ°ä¸­é—´çŠ¶æ€ï¼Œå› æ­¤è¿™é‡Œç”¨äºŒç»´æ•°ç»„ä¿å­˜æ‰€æœ‰çŠ¶æ€
    int dp[N + 1][V + 1], v[N + 1], w[N + 1];
    memset(dp, 0, sizeof(dp));
    for (int i = N; i > 0; --i) cin >> v[i] >> w[i];
    for (int i = 1; i <= N; ++i) {
        for (int j = 1; j <= V; ++j) {
            dp[i][j] = dp[i - 1][j];
            if (j >= v[i]) dp[i][j] = max(dp[i][j], dp[i - 1][j - v[i]] + w[i]);
        }
    }

    int cur = V;
    for (int i = N; i > 0; --i) {
        if (dp[i][cur] == dp[i - 1][cur - v[i]] + w[i]) {
            cout << N + 1 - i << " ";
            // å–å®Œå½“å‰ç‰©å“ï¼Œç›®æ ‡ä½“ç§¯éœ€è¦å‡å»å½“å‰ä½“ç§¯
            cur -= v[i];
        }
    }

    return 0;
}
```

## ğŸ” å­¦ä¹ æ¥æº

[B ç«™å¤§é›ªè±-èƒŒåŒ…ä¹è®²ä¸“é¢˜ <i class="fa fa-external-link-alt"></i>](https://www.bilibili.com/video/BV1Qt411R7v8?p=2&t=1608)
