---
title: èƒŒåŒ…ä¹è®²ï¼ˆå…«ï¼‰ èƒŒåŒ…é—®é¢˜æ±‚æ–¹æ¡ˆæ•°
slug: knapsack-problem-08
tags: [èƒŒåŒ…ä¹è®², ç®—æ³•, åŠ¨æ€è§„åˆ’]
categories: ç®—æ³•
mathjax: true
date: 2020-07-30T14:55:11+08:00
lastmod: 2020-07-30T14:55:11+08:00
---

## â“ é¢˜ç›®

> æœ‰ $N$ ä»¶ç‰©å“å’Œä¸€ä¸ªå®¹é‡æ˜¯ $V$ çš„èƒŒåŒ…ã€‚æ¯ä»¶ç‰©å“åªèƒ½ä½¿ç”¨ä¸€æ¬¡ã€‚
> ç¬¬ $i$ ä»¶ç‰©å“çš„ä½“ç§¯æ˜¯ $v_i$ï¼Œä»·å€¼æ˜¯ $w_i$ã€‚
> æ±‚è§£å°†å“ªäº›ç‰©å“è£…å…¥èƒŒåŒ…ï¼Œå¯ä½¿è¿™äº›ç‰©å“çš„æ€»ä½“ç§¯ä¸è¶…è¿‡èƒŒåŒ…å®¹é‡ï¼Œä¸”æ€»ä»·å€¼æœ€å¤§ã€‚
> è¾“å‡º æœ€ä¼˜é€‰æ³•çš„æ–¹æ¡ˆæ•°ã€‚æ³¨æ„ç­”æ¡ˆå¯èƒ½å¾ˆå¤§ï¼Œè¯·è¾“å‡ºç­”æ¡ˆæ¨¡ $10^9+7$ çš„ç»“æœã€‚

<!--more-->

- **è¾“å…¥æ ¼å¼**

> ç¬¬ä¸€è¡Œæœ‰ä¸¤ä¸ªæ•´æ•° $N$ï¼Œ$V$ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç‰©å“æ•°é‡å’ŒèƒŒåŒ…å®¹é‡ã€‚
> æ¥ä¸‹æ¥æœ‰ $N$ è¡Œï¼Œæ¯è¡Œä¸¤ä¸ªæ•´æ•° $v_i,w_i$ï¼Œç”¨ç©ºæ ¼éš”å¼€ï¼Œåˆ†åˆ«è¡¨ç¤ºç¬¬ $i$ ä»¶ç‰©å“çš„ä½“ç§¯å’Œä»·å€¼ã€‚

- **è¾“å‡ºæ ¼å¼**

> è¾“å‡ºä¸€ä¸ªæ•´æ•°ï¼Œè¡¨ç¤º æ–¹æ¡ˆæ•° æ¨¡ $10^9+7$ çš„ç»“æœã€‚

- **æ•°æ®èŒƒå›´**

> $0 < N,V\leq 1000$ > $0 < v_i,w_i\leq 1000$

## âœ… è§£å†³æ–¹æ¡ˆ

### æ€è·¯

&emsp;&emsp;è¿™é“é¢˜å°±æ˜¯ 01 èƒŒåŒ…çš„å˜ç§ï¼Œå› æ­¤å¾ˆç®€å•ã€‚åœ¨ 01 èƒŒåŒ…çš„çŠ¶æ€è½¬ç§»è¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬æ¯æ¬¡çš„è½¬ç§»å®é™…ä¸Šå°±æ˜¯åœ¨ç¡®å®šæ–¹æ¡ˆã€‚è€Œæ¯æ¬¡ç¡®å®šçš„æ–¹æ¡ˆæ— éå°±ä¸‰ç§æƒ…å†µï¼ˆé€‰ã€ä¸é€‰ã€é€‰ä¸é€‰ä¸€æ ·ï¼‰ã€‚å¯¹äºå‰ä¸¤ç§æƒ…å†µï¼Œå½“å‰çš„æ–¹æ¡ˆæ•°ä¸è½¬ç§»ä¹‹å‰çš„æ–¹æ¡ˆæ•°æ˜¯ä¸€æ ·çš„ï¼›è€Œå¯¹äºç¬¬ä¸‰ç§æƒ…å†µï¼Œå½“å‰çš„æ–¹æ¡ˆæ•°å°±æ˜¯é€‰ä¸ä¸é€‰è½¬ç§»å‰æ–¹æ¡ˆçš„æ€»å’Œã€‚

### ä»£ç 

```c++
#include <iostream>
#include <algorithm>
#include <cstring>
using namespace std;

#define MOD 1e9+7

int main() {
    int N, V;
    cin >> N >> V;
    // è¿™é‡Œçš„mvè¡¨ç¤ºçš„æ˜¯æœ€å¤§ä»·å€¼ï¼Œä¹Ÿå°±æ˜¯01èƒŒåŒ…é—®é¢˜ä¸­çš„dp
    // è€Œè¿™é‡Œçš„dpè¡¨ç¤ºæ–¹æ¡ˆæ•°
    int mv[V + 1], dp[V + 1];
    memset(mv, 0, sizeof(mv));
    for (int i = 0; i <= V; ++i) dp[i] = 1;
    int v, w;
    for (int i = 0; i < N; ++i) {
        cin >> v >> w;
        for (int j = V; j >= v; --j) {
            int no = mv[j];
            int yes = mv[j - v] + w;
            int cnt = 0;
            // é€šè¿‡ä¸¤æ¬¡ifï¼Œå¯ä»¥å®Œæˆä¸‰ç§æƒ…å†µçš„è½¬ç§»
            if (no >= yes) {
                mv[j] = no;
                cnt += dp[j];
            }
            if (yes >= no) {
                mv[j] = yes;
                cnt += dp[j - v];
            }
            if (cnt > MOD) cnt -= MOD;
            dp[j] = cnt;
        }
    }
    cout << dp[V] << endl;
    return 0;
}
```

## ğŸ” å­¦ä¹ æ¥æº

[B ç«™å¤§é›ªè±-èƒŒåŒ…ä¹è®²ä¸“é¢˜ <i class="fa fa-external-link-alt"></i>](https://www.bilibili.com/video/BV1Qt411R7v8?p=2&t=1608)
